<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Photoconsistency-Visual-Odometry: PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Photoconsistency-Visual-Odometry</div>
   <div id="projectbrief">Multiscale Photoconsistency Visual Odometry from RGBD Images</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>PhotoconsistencyOdometry</b>      </li>
      <li class="navelem"><b>Analytic</b>      </li>
      <li class="navelem"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html">CPhotoconsistencyOdometryAnalytic</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic" --><!-- doxytag: inherits="PhotoconsistencyOdometry::CPhotoconsistencyOdometry" -->
<p><code>#include &lt;<a class="el" href="_c_photoconsistency_odometry_analytic_8h_source.html">CPhotoconsistencyOdometryAnalytic.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.png" usemap="#PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic_map" alt=""/>
  <map id="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic_map" name="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic_map">
<area href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html" alt="PhotoconsistencyOdometry::CPhotoconsistencyOdometry" shape="rect" coords="0,0,433,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#af473a25172cf498f50cec44b697f8e81">setMinDepth</a> (float minD)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a5553935095782a68830efa1d4f4ccce5">setMaxDepth</a> (float maxD)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#af55a42286ff6f056ad33103dd7c3b0a9">setCameraMatrix</a> (Eigen::Matrix3f &amp;camMat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a540df6929640bf7c1c248e27cc952772">setSourceFrame</a> (cv::Mat &amp;imgGray, cv::Mat &amp;imgDepth)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ac2f9288148db6b93b5cbe6a77818106d">setTargetFrame</a> (cv::Mat &amp;imgGray)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a6765ca12e063b199624e408fe07d2c13">setInitialStateVector</a> (const std::vector&lt; double &gt; &amp;initialStateVector)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#aadf26b26688281cd18375984c1cc719e">optimize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ad48c2851da3b626484d2d005b81d9b4e">getOptimalStateVector</a> (std::vector&lt; double &gt; &amp;optimalStateVector)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a48873715c3dc7a6ad8e8359d7c03254d">getOptimalRigidTransformationMatrix</a> (Eigen::Matrix4f &amp;optimal_Rt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a96b148bbad6c72053fc93366bb0085d2">readConfigurationFile</a> (std::string fileName)</td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>TerminationCriteriaType</b> { <b>NonTerminated</b> =  -1, 
<b>MaxIterationsReached</b> =  0, 
<b>GradientNormLowerThanThreshold</b> =  1
 }</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="added156167e70927ad08b8c5f167aa7c"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::buildPyramid" ref="added156167e70927ad08b8c5f167aa7c" args="(cv::Mat &amp;img, std::vector&lt; cv::Mat &gt; &amp;pyramid, int levels, bool applyBlur)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>buildPyramid</b> (cv::Mat &amp;img, std::vector&lt; cv::Mat &gt; &amp;pyramid, int levels, bool applyBlur)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98cd69b765d58e68fb83d53e0a45944b"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::buildDerivativesPyramids" ref="a98cd69b765d58e68fb83d53e0a45944b" args="(std::vector&lt; cv::Mat &gt; &amp;imagePyramid, std::vector&lt; cv::Mat &gt; &amp;derXPyramid, std::vector&lt; cv::Mat &gt; &amp;derYPyramid)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>buildDerivativesPyramids</b> (std::vector&lt; cv::Mat &gt; &amp;imagePyramid, std::vector&lt; cv::Mat &gt; &amp;derXPyramid, std::vector&lt; cv::Mat &gt; &amp;derYPyramid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0de61bdb5fa8cf8840b908aa62bbc7ee"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::computeResidualsAndJacobians" ref="a0de61bdb5fa8cf8840b908aa62bbc7ee" args="(cv::Mat &amp;source_grayImg, cv::Mat &amp;source_depthImg, cv::Mat &amp;target_grayImg, cv::Mat &amp;target_gradXImg, cv::Mat &amp;target_gradYImg, Eigen::Matrix&lt; double, Eigen::Dynamic, 1 &gt; &amp;residuals, Eigen::Matrix&lt; double, Eigen::Dynamic, 6 &gt; &amp;jacobians, cv::Mat &amp;warped_source_grayImage)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>computeResidualsAndJacobians</b> (cv::Mat &amp;source_grayImg, cv::Mat &amp;source_depthImg, cv::Mat &amp;target_grayImg, cv::Mat &amp;target_gradXImg, cv::Mat &amp;target_gradYImg, Eigen::Matrix&lt; double, Eigen::Dynamic, 1 &gt; &amp;residuals, Eigen::Matrix&lt; double, Eigen::Dynamic, 6 &gt; &amp;jacobians, cv::Mat &amp;warped_source_grayImage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9a8a62f578082c2cba0b3919fa81673"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::testTerminationCriteria" ref="ae9a8a62f578082c2cba0b3919fa81673" args="()" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>testTerminationCriteria</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ab593c493a85a7a140a6f47fc89554793">gray0Pyr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca69c56d9dcce3d77b31a674b948d153"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gray1Pyr" ref="aca69c56d9dcce3d77b31a674b948d153" args="" -->
std::vector&lt; cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gray1Pyr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abde99cb4532ee4df75325a99d273ccce"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::depth0Pyr" ref="abde99cb4532ee4df75325a99d273ccce" args="" -->
std::vector&lt; cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>depth0Pyr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6582703e8d0d1d9d2fb9c8a86e997dec"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gray1GradXPyr" ref="a6582703e8d0d1d9d2fb9c8a86e997dec" args="" -->
std::vector&lt; cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gray1GradXPyr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb53b3a56274a6425562291eeda95af5"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gray1GradYPyr" ref="aeb53b3a56274a6425562291eeda95af5" args="" -->
std::vector&lt; cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gray1GradYPyr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Eigen::Matrix3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a6338098cb3cee04a59768a27b84e29e0">cameraMatrix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a52b80772f2fabe73161055dc84ce2687">optimizationLevel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a23743290709f60c13f55b7a9664ae30d">numOptimizationLevels</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a0c9b0540f2697f7b137b1a36ce3e2c18">lambda_optimization_step</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#abc3f7da046ef73b3cd4b8a4ad5abf441">blurFilterSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#adb99f12e7b9b1aa4b31b766b51e8a3c0">imageGradientsScalingFactor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ac84492170047058895b65f8b3f7d72a2">max_num_iterations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a0c34a8b704b2340114f16e98dcc33238">min_gradient_norm</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a100c9755e220fe7cc1cdba95211fb506">visualizeIterations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Eigen::Matrix&lt; double, 6, 1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a46fc9664879ed9582eb173709fba3924">stateVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Eigen::Matrix&lt; double, 6, 1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ae1c72bf91edb0171331fb9c729dec27b">gradients</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a8eea3326f2d11a5a30e53b171464ccb2">iter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a7b34e994ff1b81ae11e3211636045171">minDepth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a473668de10bebdfbd3c863cba5bf22c6">maxDepth</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class computes the rigid (6DoF) transformation that best aligns a pair of RGBD frames using a photoconsistency maximization approach. To estimate the rigid transformation, this class implements a coarse to fine approach. Thus, the algorithm starts finding a first pose approximation at a low resolution level and uses the estimate to initialize the optimization at greater image scales. Both the residuals and jacobians are computed analytically. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a48873715c3dc7a6ad8e8359d7c03254d"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::getOptimalRigidTransformationMatrix" ref="a48873715c3dc7a6ad8e8359d7c03254d" args="(Eigen::Matrix4f &amp;optimal_Rt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::getOptimalRigidTransformationMatrix </td>
          <td>(</td>
          <td class="paramtype">Eigen::Matrix4f &amp;&#160;</td>
          <td class="paramname"><em>optimal_Rt</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the optimal 4x4 rigid transformation matrix between the source and target frame. This method has to be called after calling the <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#aadf26b26688281cd18375984c1cc719e">optimize()</a> method. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#a319f97afb21523fa6c66e9a04a607ea6">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<a class="anchor" id="ad48c2851da3b626484d2d005b81d9b4e"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::getOptimalStateVector" ref="ad48c2851da3b626484d2d005b81d9b4e" args="(std::vector&lt; double &gt; &amp;optimalStateVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::getOptimalStateVector </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>optimalStateVector</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the optimal state vector. This method has to be called after calling the <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#aadf26b26688281cd18375984c1cc719e">optimize()</a> method. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#a60e50c92161d1c2c1090757358ddba92">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<a class="anchor" id="aadf26b26688281cd18375984c1cc719e"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::optimize" ref="aadf26b26688281cd18375984c1cc719e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::optimize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Launches the least-squares optimization process to find the configuration of the state vector parameters that maximizes the photoconsistency between the source and target frame. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#aa7b0f04764e2c348556193281de58639">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<a class="anchor" id="a96b148bbad6c72053fc93366bb0085d2"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::readConfigurationFile" ref="a96b148bbad6c72053fc93366bb0085d2" args="(std::string fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::readConfigurationFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the configuration parameters from a .yml file. </p>

</div>
</div>
<a class="anchor" id="af55a42286ff6f056ad33103dd7c3b0a9"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setCameraMatrix" ref="af55a42286ff6f056ad33103dd7c3b0a9" args="(Eigen::Matrix3f &amp;camMat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setCameraMatrix </td>
          <td>(</td>
          <td class="paramtype">Eigen::Matrix3f &amp;&#160;</td>
          <td class="paramname"><em>camMat</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the 3x3 matrix of (pinhole) camera intrinsic parameters used to obtain the 3D colored point cloud from the RGB and depth images. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#a7464fc533b08dc7150eabd1086b84155">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<a class="anchor" id="a6765ca12e063b199624e408fe07d2c13"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setInitialStateVector" ref="a6765ca12e063b199624e408fe07d2c13" args="(const std::vector&lt; double &gt; &amp;initialStateVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setInitialStateVector </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>initialStateVector</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the state vector to a certain value. The optimization process uses the initial state vector as the initial estimate. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#a425e6bc2fbbc9dcf924ae197f5569ddf">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<a class="anchor" id="a5553935095782a68830efa1d4f4ccce5"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setMaxDepth" ref="a5553935095782a68830efa1d4f4ccce5" args="(float maxD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setMaxDepth </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>maxD</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the maximum depth distance (m) to consider a certain pixel valid. </p>

</div>
</div>
<a class="anchor" id="af473a25172cf498f50cec44b697f8e81"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setMinDepth" ref="af473a25172cf498f50cec44b697f8e81" args="(float minD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setMinDepth </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>minD</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the minimum depth distance (m) to consider a certain pixel valid. </p>

</div>
</div>
<a class="anchor" id="a540df6929640bf7c1c248e27cc952772"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setSourceFrame" ref="a540df6929640bf7c1c248e27cc952772" args="(cv::Mat &amp;imgGray, cv::Mat &amp;imgDepth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setSourceFrame </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>imgGray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>imgDepth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the source (Intensity+Depth) frame. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#aa017bf63aeb6f3103d1b6fec8d38a888">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<a class="anchor" id="ac2f9288148db6b93b5cbe6a77818106d"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setTargetFrame" ref="ac2f9288148db6b93b5cbe6a77818106d" args="(cv::Mat &amp;imgGray)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::setTargetFrame </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>imgGray</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the target intensity frame. </p>

<p>Implements <a class="el" href="class_photoconsistency_odometry_1_1_c_photoconsistency_odometry.html#a4f04b88ac54670b03b5c2bf773bca018">PhotoconsistencyOdometry::CPhotoconsistencyOdometry</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="abc3f7da046ef73b3cd4b8a4ad5abf441"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::blurFilterSize" ref="abc3f7da046ef73b3cd4b8a4ad5abf441" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#abc3f7da046ef73b3cd4b8a4ad5abf441">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::blurFilterSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Size (in pixels) of the blur filter (at each level). </p>

</div>
</div>
<a class="anchor" id="a6338098cb3cee04a59768a27b84e29e0"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::cameraMatrix" ref="a6338098cb3cee04a59768a27b84e29e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Matrix3f <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a6338098cb3cee04a59768a27b84e29e0">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::cameraMatrix</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Camera matrix (intrinsic parameters). </p>

</div>
</div>
<a class="anchor" id="ae1c72bf91edb0171331fb9c729dec27b"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gradients" ref="ae1c72bf91edb0171331fb9c729dec27b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Matrix&lt;double,6,1&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ae1c72bf91edb0171331fb9c729dec27b">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gradients</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gradient of the error function. </p>

</div>
</div>
<a class="anchor" id="ab593c493a85a7a140a6f47fc89554793"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gray0Pyr" ref="ab593c493a85a7a140a6f47fc89554793" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;cv::Mat&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ab593c493a85a7a140a6f47fc89554793">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::gray0Pyr</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Intensity (gray), depth and gradient image pyramids. Each pyramid has 'numOptimizationLevels' levels. </p>

</div>
</div>
<a class="anchor" id="adb99f12e7b9b1aa4b31b766b51e8a3c0"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::imageGradientsScalingFactor" ref="adb99f12e7b9b1aa4b31b766b51e8a3c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#adb99f12e7b9b1aa4b31b766b51e8a3c0">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::imageGradientsScalingFactor</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Scaling factor applied to the image gradients (at each level). </p>

</div>
</div>
<a class="anchor" id="a8eea3326f2d11a5a30e53b171464ccb2"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::iter" ref="a8eea3326f2d11a5a30e53b171464ccb2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a8eea3326f2d11a5a30e53b171464ccb2">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::iter</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Current iteration at the current optimization level. </p>

</div>
</div>
<a class="anchor" id="a0c9b0540f2697f7b137b1a36ce3e2c18"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::lambda_optimization_step" ref="a0c9b0540f2697f7b137b1a36ce3e2c18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a0c9b0540f2697f7b137b1a36ce3e2c18">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::lambda_optimization_step</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Scaling factor to update the state vector (at each level). </p>

</div>
</div>
<a class="anchor" id="ac84492170047058895b65f8b3f7d72a2"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::max_num_iterations" ref="ac84492170047058895b65f8b3f7d72a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#ac84492170047058895b65f8b3f7d72a2">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::max_num_iterations</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum number of iterations for the Gauss-Newton algorithm (at each level). </p>

</div>
</div>
<a class="anchor" id="a473668de10bebdfbd3c863cba5bf22c6"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::maxDepth" ref="a473668de10bebdfbd3c863cba5bf22c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a473668de10bebdfbd3c863cba5bf22c6">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::maxDepth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum allowed depth to consider a depth pixel valid. </p>

</div>
</div>
<a class="anchor" id="a0c34a8b704b2340114f16e98dcc33238"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::min_gradient_norm" ref="a0c34a8b704b2340114f16e98dcc33238" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a0c34a8b704b2340114f16e98dcc33238">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::min_gradient_norm</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Minimum gradient norm of the jacobian (at each level). </p>

</div>
</div>
<a class="anchor" id="a7b34e994ff1b81ae11e3211636045171"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::minDepth" ref="a7b34e994ff1b81ae11e3211636045171" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a7b34e994ff1b81ae11e3211636045171">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::minDepth</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Minimum allowed depth to consider a depth pixel valid. </p>

</div>
</div>
<a class="anchor" id="a23743290709f60c13f55b7a9664ae30d"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::numOptimizationLevels" ref="a23743290709f60c13f55b7a9664ae30d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a23743290709f60c13f55b7a9664ae30d">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::numOptimizationLevels</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of optimization levels. </p>

</div>
</div>
<a class="anchor" id="a52b80772f2fabe73161055dc84ce2687"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::optimizationLevel" ref="a52b80772f2fabe73161055dc84ce2687" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a52b80772f2fabe73161055dc84ce2687">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::optimizationLevel</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Current optimization level. Level 0 corresponds to the higher image resolution. </p>

</div>
</div>
<a class="anchor" id="a46fc9664879ed9582eb173709fba3924"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::stateVector" ref="a46fc9664879ed9582eb173709fba3924" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Matrix&lt;double,6,1&gt; <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a46fc9664879ed9582eb173709fba3924">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::stateVector</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>State vector. </p>

</div>
</div>
<a class="anchor" id="a100c9755e220fe7cc1cdba95211fb506"></a><!-- doxytag: member="PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::visualizeIterations" ref="a100c9755e220fe7cc1cdba95211fb506" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_photoconsistency_odometry_1_1_analytic_1_1_c_photoconsistency_odometry_analytic.html#a100c9755e220fe7cc1cdba95211fb506">PhotoconsistencyOdometry::Analytic::CPhotoconsistencyOdometryAnalytic::visualizeIterations</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable the visualization of the optimization process (only for debug). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_c_photoconsistency_odometry_analytic_8h_source.html">CPhotoconsistencyOdometryAnalytic.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Sep 14 2012 17:37:41 for Photoconsistency-Visual-Odometry by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
